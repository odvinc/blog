<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on odvinc Blog</title>
    <link>http://blog.odvinc.ru/post/</link>
    <description>Recent content in Posts on odvinc Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>&amp;copy; 2016. All rights reserved.</copyright>
    <lastBuildDate>Fri, 04 Apr 2014 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://blog.odvinc.ru/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Умный дом своими руками</title>
      <link>http://blog.odvinc.ru/post/smart-house/</link>
      <pubDate>Fri, 04 Apr 2014 00:00:00 +0000</pubDate>
      
      <guid>http://blog.odvinc.ru/post/smart-house/</guid>
      <description>&lt;p&gt;Эта статья о том как можно создать &lt;a href=&#34;http://ru.wikipedia.org/wiki/%D0%A3%D0%BC%D0%BD%D1%8B%D0%B9_%D0%B4%D0%BE%D0%BC&#34;&gt;&amp;#171;Умный дом&amp;#187;&lt;/a&gt; своими руками с системой sms информирования владельца в случае нарушения периметра или срабатывания различных сенсоров.&lt;/p&gt;

&lt;p&gt;Идея собрать и реализовать данную систему принадлежит моему отцу, за ним же и вся часть связанная с паяльником =) Я же, являюсь автором этой статьи и заказанного отцом кода, так как он пока не очень быстро научился писать программы для ардуинчика.&lt;/p&gt;

&lt;p&gt;Ядром нашей системы будет выступать плата ввода-вывода &lt;a href=&#34;http://arduino.cc/en/Main/Products&#34; title=&#34;Arduino Products&#34;&gt;Arduino&lt;/a&gt; (в нашем случае &lt;a href=&#34;http://arduino.cc/en/Main/ArduinoBoardLeonardo&#34;&gt;Arduino Leonardo&lt;/a&gt;), которая представляет из себя контроллер позволяющий достаточно легко обрабатывать цифровые и аналоговые сигналы и программировать логику в среде разработки на языке &lt;a href=&#34;http://ru.wikipedia.org/wiki/Processing&#34;&gt;Processing&lt;/a&gt;/Wiring (очень простой и понятный си подобный язык ).&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;http://arduino.cc/en/Main/ArduinoBoardLeonardo&#34;&gt;&lt;img src=&#34;http://blog.odvinc.ru/post/img/ArduinoLeonardoFront_2_400px.jpg&#34; alt=&#34;Arduino Leonardo&#34; title=&#34;Arduino Leonardo&#34; /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;small&gt;Arduino Leonardo&lt;/small&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Заказать Arduino можно, например на &lt;a href=&#34;http://aliexpress.com&#34;&gt;AliExpress&lt;/a&gt;. Стоимость за версию &lt;a href=&#34;http://arduino.cc/en/Main/ArduinoBoardLeonardo&#34; title=&#34;Leonardo&#34;&gt;Arduino Leonardo&lt;/a&gt; у хорошего продавца, в среднем составляет 10$.&lt;/p&gt;

&lt;p&gt;Для управления системой и смс информированием можно использовать практически любой GSM модем имеющий возможность обработки AT команд через последовательный порт. В качестве эталонного варианта предлагаю использовать &lt;a href=&#34;http://arduino.cc/en/Main/ArduinoGSMShield&#34;&gt;Arduino GSM Shield&lt;/a&gt;. Мы же использовали имеющийся в наличии старенький Siemens MC35i Terminal.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;http://blog.odvinc.ru/post/img/Siemens-MC35i-Terminal.jpg&#34; alt=&#34;Siemens MC35i Terminal&#34; title=&#34;Siemens MC35i Terminal&#34; /&gt;&lt;br /&gt;
&lt;small&gt;Siemens MC35i Terminal&lt;/small&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Схему подключения пришлось немного доработать, так как потребовалось согласовать уровни. Для этого была использована микросхема &lt;a href=&#34;http://ru.wikipedia.org/wiki/MAX232&#34;&gt;MAX232&lt;/a&gt;. Микросхему установили навесным монтажом, непосредственно внутри модема. Схема подключения аналогична &lt;a title=&#34;Схема подключения MAX232&#34; href=&#34;http://www.robolive.ru/circuit/max232.php&#34; target=&#34;_blank&#34;&gt;этой&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Исходный код, достаточно подробно документирован, фактически комментарий есть к каждой строке, чтобы  логика программы была понятна человеку не сильно сведущему в программировании, и в случае необходимости, каждый смог бы переделать программу под свои нужды.&lt;/p&gt;

&lt;p&gt;Ссылка на исходный код доступна на &lt;a title=&#34;Smart House&#34; href=&#34;https://github.com/odvinc/smart_house&#34; target=&#34;_blank&#34;&gt;GitHub&lt;/a&gt;. Там же можно найти несколько вариаций, в которых кнопка постановки на охрану и сенсоры логически инвертированы с 0 на 1. Одним из вариантов является SoftwareSerial - может пригодиться, тем кто будет использовать Arduino с одним последовательным портом и кто захочет переопределить контакты RX,TX на условно произвольные. Для выбора вариантов нужно нажимать на кнопочку branch, как показано на скриншете:&lt;/p&gt;

&lt;p&gt;&lt;center&gt;&lt;img src=&#34;http://blog.odvinc.ru/post/img/select_branch.png&#34; alt=&#34;Select GitHub Branch&#34; title=&#34;Select GitHub Branch&#34; /&gt;&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Основной вариант программы с использованием модема на порту COM1 (в коде Serial1) находится в branch: &lt;strong&gt;master&lt;/strong&gt;. Загрузить скетч (так принято называть программы для arduino) целиком, можно нажав кнопку &lt;strong&gt;&amp;#171;Download ZIP&amp;#187;&lt;/strong&gt;, в правом нижнем углу.&lt;/p&gt;

&lt;p&gt;В файлике &lt;a href=&#34;https://github.com/odvinc/smart_house/blob/master/at_sms.txt&#34; title=&#34;at_sms.txt&#34;&gt;at_sms.txt&lt;/a&gt; представлен типовой диалог инициализации модема и получения смс сообщения с текстом &amp;#171;STATUS&amp;#187;, к которому мы подключены терминалом через последовательный порт.&lt;/p&gt;

&lt;p&gt;В файле &lt;a href=&#34;https://github.com/odvinc/smart_house/blob/master/smart_house.ino&#34; title=&#34;smart_house.ino&#34;&gt;smart_house.ino&lt;/a&gt; находится непосредственно скетч.&lt;/p&gt;

&lt;p&gt;Тем кому лень, детально изучать код программы и вникать в тонкости - расскажу, как примерно работает логика программы и как можно адаптировать ее под себя.&lt;/p&gt;

&lt;p&gt;Прежде всего, хочу обратить внимание, что из фиксированного функционала в программу заложена только защита периметра. Для этого на определенный пин (в нашем примере это 12 pin) заведена секретная кнопка. После запуска arduino система ожидает ее нажатия, для инициализации постановки на охрану. В случае если инициализация произойдет, то она ожидает разрыв и замыкание периметра (открытие и закрытие двери), о чем сообщает кратковременными звуковыми сигналами с динамика (в нашем примере динамик расположен на 5 пине, а периметр отожествлен с пином номер 8). Как только произойдет закрытие двери, система встанет на охрану и будет ожидать, когда произойдет событие размыкание контура. После того как мы вернулись домой, и открыли дверь, система нам предоставит 10 секунд (параметр в функции &lt;code&gt;checkIFF(10)&lt;/code&gt;) на нажатие  секретной кнопки. Если же мы этого не делаем или не успеваем в отведенное нам время, система отправляет смс сообщение на номер(а) хозяина, и переходит в режим аварийного звукового оповещения. Снять аварийный режим можно длительным 4х секундным нажатием на секретную кнопку.&lt;/p&gt;

&lt;p&gt;В случае если срабатывают сенсоры, также приходит смс уведомление с информацией какой сенсор сработал и что произошло.&lt;/p&gt;

&lt;p&gt;Большинство настроек, таких как номера пинов,  массивы для датчиков и устройств доступны в начале кода программы.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// постоянные
const int buttonPin = 12; // пин для кнопки
const int perimeterPin = 8; // пин для периметра
const int ledPin = 10 ; // пин индикатора
const int sysledPin = 13; // пин системного индикатора
const int tonePin = 5; // пин для динамика
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Номера телефонов на которые будут отправляться смс уведомления задаются в массив  &lt;code&gt;smsNumbers[]&lt;/code&gt; через запятую, по формату.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;char* smsNumbers[] = {&amp;quot;+79110000000&amp;quot;, &amp;quot;+79630000000&amp;quot;}; // номера на которые необходимо отсылать аварийные сообщения
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Если оставить массив пустым &lt;code&gt;smsNumbers[] = {};&lt;/code&gt; то сообщения отправляться не будут, останутся только звуковое оповещения.&lt;/p&gt;

&lt;p&gt;Аналогичным способом можно определить имеющиеся у вас сенсоры и устройства. Ниже пример определения двух сенсоров, - датчика протечки воды и утечки газа, где по порядку  определены: пин на котором находится сенсор, состояние сенсора и состояние аварии на момент инициализации arduino, название сенсора для смс уведомления, а также аварийное сообщение и сообщение по его локализации.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// объявление сенсоров и их кодов ошибок
tSensor mySensors[] = {
    { 6, false, false, &amp;quot;Water&amp;quot;, &amp;quot;WARNING! Found water leakage.&amp;quot;, &amp;quot;Water leakage disappeared.&amp;quot; },
    { 3, false, false, &amp;quot;Gas&amp;quot;, &amp;quot;WARNING! Found gas leakage.&amp;quot;, &amp;quot;Gas leakage disappeared.&amp;quot; }
};
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Также в программу заложена логика управления устройствами. В данном случае под устройствами понимается некий пин назначенный вами, к которому вы можете подключить реле или просто устанавливать логический ноль или единицу отправив команду по смс.&lt;/p&gt;

&lt;p&gt;Устройства определяются точно таким же образом, как и сенсоры за небольшим исключением в формате записи массива.&lt;/p&gt;

&lt;p&gt;Формат записи устройств: &lt;em&gt;[пин, состояние устройства на момент запуска, сенсорная кнопка или нет, название устройства для смс информирования]&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Пример:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// объявление устройств и их состояний
tDevice myDevices[] = {
    { 7, false, true, &amp;quot;Unit 1&amp;quot;},
    { 2, false, false, &amp;quot;Unit 2&amp;quot;}
};
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Третье по порядку значение, определяет тип кнопки устройства. Кнопка может быть &amp;#171;сенсорной&amp;#187;, т.е. при подаче команды на нее подается логическая 1 и 0 с интервалом в 1 сек, либо фиксированная, где - 1 всегда вкл,  а 0 выкл.&lt;/p&gt;

&lt;p&gt;Управлять устройствами можно отправив sms сообщение следующего формата, на номер к которому подключена система:&lt;/p&gt;

&lt;p&gt;[секретный код][0 или 1]&amp;hellip;[0 или 1], где секретный код, это код заданный в начале программы, а 0 и 1 символизируют выключенное и включенное состояние соответственно:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;String secretStr = &amp;quot;7770:&amp;quot;; // кодовое слово для подачи команд по смс
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;т.е. например, чтобы включить первое устройство и выключить второе необходимо отправить смс сообщение следующего содержания &amp;#171;&lt;strong&gt;7770:10&lt;/strong&gt;&amp;#187; . Количество параметров в смс, должно соответствовать количеству устройств в системе, в противном случае сообщение будет проигнорировано.&lt;/p&gt;

&lt;p&gt;Если на номер системы отправить смс сообщение со словом &amp;#171;&lt;strong&gt;STATUS&lt;/strong&gt;&amp;#187;, то в ответ вы получите примерно такое сообщение:&lt;/p&gt;

&lt;p&gt;&lt;center&gt;&lt;img src=&#34;http://blog.odvinc.ru/post/img/status_msg.png&#34; alt=&#34;STATUS Message&#34; title=&#34;STATUS Message&#34; /&gt;&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Можно пойти дальше и написать приложение, например для Android, но мы решили не заморачиваться =)&lt;/p&gt;

&lt;p&gt;Вся отладочная информация дублируется на последовательный по умолчанию порт Serial. Этот же порт при желании можно задействовать для gsm модема, закомментировав  отладочный вывод.&lt;/p&gt;

&lt;p&gt;P.S. При монтаже системы столкнулись с проблемой ложных срабатываний из-за достаточно большой длинны периметра. Как оказалось, бороться с этим достаточно просто установив несколько керамических конденсаторов по 5 вольтам Arduino.&lt;/p&gt;

&lt;p&gt;Скачать среду разработки &lt;a href=&#34;http://arduino.cc/en/Main/Software&#34;&gt;Arduino IDE&lt;/a&gt; для вашей ОС можно по ссылке с официального сайта.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Migrate to Hugo from Jekyll</title>
      <link>http://blog.odvinc.ru/post/migrate-from-jekyll/</link>
      <pubDate>Mon, 10 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>http://blog.odvinc.ru/post/migrate-from-jekyll/</guid>
      <description>

&lt;h2 id=&#34;move-static-content-to-static:964c172ef5e837f03573891408d8d631&#34;&gt;Move static content to &lt;code&gt;static&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Jekyll has a rule that any directory not starting with &lt;code&gt;_&lt;/code&gt; will be copied as-is to the &lt;code&gt;_site&lt;/code&gt; output. Hugo keeps all static content under &lt;code&gt;static&lt;/code&gt;. You should therefore move it all there.
With Jekyll, something that looked like&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;▾ &amp;lt;root&amp;gt;/
    ▾ images/
        logo.png
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;should become&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;▾ &amp;lt;root&amp;gt;/
    ▾ static/
        ▾ images/
            logo.png
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Additionally, you&amp;rsquo;ll want any files that should reside at the root (such as &lt;code&gt;CNAME&lt;/code&gt;) to be moved to &lt;code&gt;static&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&#34;create-your-hugo-configuration-file:964c172ef5e837f03573891408d8d631&#34;&gt;Create your Hugo configuration file&lt;/h2&gt;

&lt;p&gt;Hugo can read your configuration as JSON, YAML or TOML. Hugo supports parameters custom configuration too. Refer to the &lt;a href=&#34;http://blog.odvinc.ru/overview/configuration/&#34;&gt;Hugo configuration documentation&lt;/a&gt; for details.&lt;/p&gt;

&lt;h2 id=&#34;set-your-configuration-publish-folder-to-site:964c172ef5e837f03573891408d8d631&#34;&gt;Set your configuration publish folder to &lt;code&gt;_site&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;The default is for Jekyll to publish to &lt;code&gt;_site&lt;/code&gt; and for Hugo to publish to &lt;code&gt;public&lt;/code&gt;. If, like me, you have &lt;a href=&#34;http://blog.blindgaenger.net/generate_github_pages_in_a_submodule.html&#34;&gt;&lt;code&gt;_site&lt;/code&gt; mapped to a git submodule on the &lt;code&gt;gh-pages&lt;/code&gt; branch&lt;/a&gt;, you&amp;rsquo;ll want to do one of two alternatives:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Change your submodule to point to map &lt;code&gt;gh-pages&lt;/code&gt; to public instead of &lt;code&gt;_site&lt;/code&gt; (recommended).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git submodule deinit _site
git rm _site
git submodule add -b gh-pages git@github.com:your-username/your-repo.git public
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Or, change the Hugo configuration to use &lt;code&gt;_site&lt;/code&gt; instead of &lt;code&gt;public&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{
    ..
    &amp;quot;publishdir&amp;quot;: &amp;quot;_site&amp;quot;,
    ..
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;convert-jekyll-templates-to-hugo-templates:964c172ef5e837f03573891408d8d631&#34;&gt;Convert Jekyll templates to Hugo templates&lt;/h2&gt;

&lt;p&gt;That&amp;rsquo;s the bulk of the work right here. The documentation is your friend. You should refer to &lt;a href=&#34;http://jekyllrb.com/docs/templates/&#34;&gt;Jekyll&amp;rsquo;s template documentation&lt;/a&gt; if you need to refresh your memory on how you built your blog and &lt;a href=&#34;http://blog.odvinc.ru/layout/templates/&#34;&gt;Hugo&amp;rsquo;s template&lt;/a&gt; to learn Hugo&amp;rsquo;s way.&lt;/p&gt;

&lt;p&gt;As a single reference data point, converting my templates for &lt;a href=&#34;http://heyitsalex.net/&#34;&gt;heyitsalex.net&lt;/a&gt; took me no more than a few hours.&lt;/p&gt;

&lt;h2 id=&#34;convert-jekyll-plugins-to-hugo-shortcodes:964c172ef5e837f03573891408d8d631&#34;&gt;Convert Jekyll plugins to Hugo shortcodes&lt;/h2&gt;

&lt;p&gt;Jekyll has &lt;a href=&#34;http://jekyllrb.com/docs/plugins/&#34;&gt;plugins&lt;/a&gt;; Hugo has &lt;a href=&#34;http://blog.odvinc.ru/doc/shortcodes/&#34;&gt;shortcodes&lt;/a&gt;. It&amp;rsquo;s fairly trivial to do a port.&lt;/p&gt;

&lt;h3 id=&#34;implementation:964c172ef5e837f03573891408d8d631&#34;&gt;Implementation&lt;/h3&gt;

&lt;p&gt;As an example, I was using a custom &lt;a href=&#34;https://github.com/alexandre-normand/alexandre-normand/blob/74bb12036a71334fdb7dba84e073382fc06908ec/_plugins/image_tag.rb&#34;&gt;&lt;code&gt;image_tag&lt;/code&gt;&lt;/a&gt; plugin to generate figures with caption when running Jekyll. As I read about shortcodes, I found Hugo had a nice built-in shortcode that does exactly the same thing.&lt;/p&gt;

&lt;p&gt;Jekyll&amp;rsquo;s plugin:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;module Jekyll
  class ImageTag &amp;lt; Liquid::Tag
    @url = nil
    @caption = nil
    @class = nil
    @link = nil
    // Patterns
    IMAGE_URL_WITH_CLASS_AND_CAPTION =
    IMAGE_URL_WITH_CLASS_AND_CAPTION_AND_LINK = /(\w+)(\s+)((https?:\/\/|\/)(\S+))(\s+)&amp;quot;(.*?)&amp;quot;(\s+)-&amp;gt;((https?:\/\/|\/)(\S+))(\s*)/i
    IMAGE_URL_WITH_CAPTION = /((https?:\/\/|\/)(\S+))(\s+)&amp;quot;(.*?)&amp;quot;/i
    IMAGE_URL_WITH_CLASS = /(\w+)(\s+)((https?:\/\/|\/)(\S+))/i
    IMAGE_URL = /((https?:\/\/|\/)(\S+))/i
    def initialize(tag_name, markup, tokens)
      super
      if markup =~ IMAGE_URL_WITH_CLASS_AND_CAPTION_AND_LINK
        @class   = $1
        @url     = $3
        @caption = $7
        @link = $9
      elsif markup =~ IMAGE_URL_WITH_CLASS_AND_CAPTION
        @class   = $1
        @url     = $3
        @caption = $7
      elsif markup =~ IMAGE_URL_WITH_CAPTION
        @url     = $1
        @caption = $5
      elsif markup =~ IMAGE_URL_WITH_CLASS
        @class = $1
        @url   = $3
      elsif markup =~ IMAGE_URL
        @url = $1
      end
    end
    def render(context)
      if @class
        source = &amp;quot;&amp;lt;figure class=&#39;#{@class}&#39;&amp;gt;&amp;quot;
      else
        source = &amp;quot;&amp;lt;figure&amp;gt;&amp;quot;
      end
      if @link
        source += &amp;quot;&amp;lt;a href=\&amp;quot;#{@link}\&amp;quot;&amp;gt;&amp;quot;
      end
      source += &amp;quot;&amp;lt;img src=\&amp;quot;#{@url}\&amp;quot;&amp;gt;&amp;quot;
      if @link
        source += &amp;quot;&amp;lt;/a&amp;gt;&amp;quot;
      end
      source += &amp;quot;&amp;lt;figcaption&amp;gt;#{@caption}&amp;lt;/figcaption&amp;gt;&amp;quot; if @caption
      source += &amp;quot;&amp;lt;/figure&amp;gt;&amp;quot;
      source
    end
  end
end
Liquid::Template.register_tag(&#39;image&#39;, Jekyll::ImageTag)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;is written as this Hugo shortcode:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;!-- image --&amp;gt;
&amp;lt;figure {{ with .Get &amp;quot;class&amp;quot; }}class=&amp;quot;{{.}}&amp;quot;{{ end }}&amp;gt;
    {{ with .Get &amp;quot;link&amp;quot;}}&amp;lt;a href=&amp;quot;{{.}}&amp;quot;&amp;gt;{{ end }}
        &amp;lt;img src=&amp;quot;{{ .Get &amp;quot;src&amp;quot; }}&amp;quot; {{ if or (.Get &amp;quot;alt&amp;quot;) (.Get &amp;quot;caption&amp;quot;) }}alt=&amp;quot;{{ with .Get &amp;quot;alt&amp;quot;}}{{.}}{{else}}{{ .Get &amp;quot;caption&amp;quot; }}{{ end }}&amp;quot;{{ end }} /&amp;gt;
    {{ if .Get &amp;quot;link&amp;quot;}}&amp;lt;/a&amp;gt;{{ end }}
    {{ if or (or (.Get &amp;quot;title&amp;quot;) (.Get &amp;quot;caption&amp;quot;)) (.Get &amp;quot;attr&amp;quot;)}}
    &amp;lt;figcaption&amp;gt;{{ if isset .Params &amp;quot;title&amp;quot; }}
        {{ .Get &amp;quot;title&amp;quot; }}{{ end }}
        {{ if or (.Get &amp;quot;caption&amp;quot;) (.Get &amp;quot;attr&amp;quot;)}}&amp;lt;p&amp;gt;
        {{ .Get &amp;quot;caption&amp;quot; }}
        {{ with .Get &amp;quot;attrlink&amp;quot;}}&amp;lt;a href=&amp;quot;{{.}}&amp;quot;&amp;gt; {{ end }}
            {{ .Get &amp;quot;attr&amp;quot; }}
        {{ if .Get &amp;quot;attrlink&amp;quot;}}&amp;lt;/a&amp;gt; {{ end }}
        &amp;lt;/p&amp;gt; {{ end }}
    &amp;lt;/figcaption&amp;gt;
    {{ end }}
&amp;lt;/figure&amp;gt;
&amp;lt;!-- image --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;usage:964c172ef5e837f03573891408d8d631&#34;&gt;Usage&lt;/h3&gt;

&lt;p&gt;I simply changed:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{% image full http://farm5.staticflickr.com/4136/4829260124_57712e570a_o_d.jpg &amp;quot;One of my favorite touristy-type photos. I secretly waited for the good light while we were &amp;quot;having fun&amp;quot; and took this. Only regret: a stupid pole in the top-left corner of the frame I had to clumsily get rid of at post-processing.&amp;quot; -&amp;gt;http://www.flickr.com/photos/alexnormand/4829260124/in/set-72157624547713078/ %}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;to this (this example uses a slightly extended version named &lt;code&gt;fig&lt;/code&gt;, different than the built-in &lt;code&gt;figure&lt;/code&gt;):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{{% fig class=&amp;quot;full&amp;quot; src=&amp;quot;http://farm5.staticflickr.com/4136/4829260124_57712e570a_o_d.jpg&amp;quot; title=&amp;quot;One of my favorite touristy-type photos. I secretly waited for the good light while we were having fun and took this. Only regret: a stupid pole in the top-left corner of the frame I had to clumsily get rid of at post-processing.&amp;quot; link=&amp;quot;http://www.flickr.com/photos/alexnormand/4829260124/in/set-72157624547713078/&amp;quot; %}}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As a bonus, the shortcode named parameters are, arguably, more readable.&lt;/p&gt;

&lt;h2 id=&#34;finishing-touches:964c172ef5e837f03573891408d8d631&#34;&gt;Finishing touches&lt;/h2&gt;

&lt;h3 id=&#34;fix-content:964c172ef5e837f03573891408d8d631&#34;&gt;Fix content&lt;/h3&gt;

&lt;p&gt;Depending on the amount of customization that was done with each post with Jekyll, this step will require more or less effort. There are no hard and fast rules here except that &lt;code&gt;hugo server --watch&lt;/code&gt; is your friend. Test your changes and fix errors as needed.&lt;/p&gt;

&lt;h3 id=&#34;clean-up:964c172ef5e837f03573891408d8d631&#34;&gt;Clean up&lt;/h3&gt;

&lt;p&gt;You&amp;rsquo;ll want to remove the Jekyll configuration at this point. If you have anything else that isn&amp;rsquo;t used, delete it.&lt;/p&gt;

&lt;h2 id=&#34;a-practical-example-in-a-diff:964c172ef5e837f03573891408d8d631&#34;&gt;A practical example in a diff&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://heyitsalex.net/&#34;&gt;Hey, it&amp;rsquo;s Alex&lt;/a&gt; was migrated in less than a &lt;em&gt;father-with-kids day&lt;/em&gt; from Jekyll to Hugo. You can see all the changes (and screw-ups) by looking at this &lt;a href=&#34;https://github.com/alexandre-normand/alexandre-normand/compare/869d69435bd2665c3fbf5b5c78d4c22759d7613a...b7f6605b1265e83b4b81495423294208cc74d610&#34;&gt;diff&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>